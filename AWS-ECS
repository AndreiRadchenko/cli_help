#Install the AWS CLI version 2 on Linux

curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
unzip awscliv2.zip
sudo ./aws/install


aws configure
    #AWS Access Key ID [None]: AKIAYBUPASJTFTKSYYAW
    #AWS Secret Access Key [None]: UPK1JV3vIQKTFSdEScpBK3Twhpfx2hnon5ykccEk
    #Default region name [None]: us-east-1
    #Default output format [None]: json


#Authenticate to your default registry
#The get-login-password is the preferred method for authenticating to an Amazon ECR private registry when using the AWS CLI. 
#aws ecr get-login-password --region region | docker login --username AWS --password-stdin aws_account_id.dkr.ecr.region.amazonaws.com

aws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin 553276969574.dkr.ecr.us-east-1.amazonaws.com


aws ecr create-repository \
    --repository-name votingwebapp \
    --image-scanning-configuration scanOnPush=false \
    --region us-east-1


#Tag the image to push to your repository.

docker tag votingwebapp:v05 553276969574.dkr.ecr.us-east-1.amazonaws.com/votingwebapp:v05


#Push the image.

docker push 553276969574.dkr.ecr.us-east-1.amazonaws.com/votingwebapp:v05



